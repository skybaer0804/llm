# AutoGen ì—ì´ì „íŠ¸ íŒ€ êµ¬ì„±

## Step 3: AutoGen ì—ì´ì „íŠ¸ íŒ€ êµ¬ì„± (30ë¶„)

`autogen_team.py` ì‘ì„±:

```python
"""
AutoGen + Qwen3 ë¼ìš°í„° í†µí•©

ì„¤ê³„ â†’ êµ¬í˜„ â†’ ê²€ìˆ˜ ì™„ì „ ìë™í™” íŒŒì´í”„ë¼ì¸
"""

import autogen
from autogen import AssistantAgent, UserProxyAgent, GroupChat, GroupChatManager
import logging

logging.basicConfig(level=logging.INFO)
logger = logging.getLogger(__name__)

# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# LLM ì„¤ì • (ë¼ìš°í„° ì‚¬ìš©)
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

llm_config = {
    "config_list": [
        {
            "model": "gpt-4",  # ì´ë¦„ì€ ìƒê´€ì—†ìŒ (ë¼ìš°í„°ê°€ task_typeìœ¼ë¡œ íŒë‹¨)
            "base_url": "http://localhost:8000",  # ë¼ìš°í„° í¬íŠ¸
            "api_type": "openai",
            "api_key": "sk-dummy"  # ì‹¤ì œ OpenAI APIëŠ” ì‚¬ìš© ì•ˆ í•¨
        }
    ],
    "temperature": 0.7,
    "timeout": 600,
    "max_retries": 2
}

# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# ì—ì´ì „íŠ¸ ì •ì˜
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

# 1. Architect (ì„¤ê³„ì)
architect = AssistantAgent(
    name="Architect",
    system_message="""ë‹¹ì‹ ì€ ê²½í—˜ ë§ì€ ì‹œìŠ¤í…œ ì•„í‚¤í…íŠ¸ì…ë‹ˆë‹¤.

ì—­í• :
- GitHub ì´ìŠˆ/ìš”êµ¬ì‚¬í•­ì„ ë°›ì•„ì„œ ìƒì„¸íˆ ë¶„ì„
- ì „ì²´ ì‹œìŠ¤í…œ êµ¬ì¡°ë¥¼ ì„¤ê³„
- ë‹¨ê³„ë³„ êµ¬í˜„ ê³„íš ìˆ˜ë¦½
- ê¸°ìˆ  ìŠ¤íƒ ì œì•ˆ
- ì˜ˆìƒ ì´ìŠˆ íŒŒì•…

í•­ìƒ êµ¬ì²´ì ì´ê³  ì‹¤í–‰ ê°€ëŠ¥í•œ ì„¤ê³„ë¥¼ ì œì‹œí•˜ì„¸ìš”.
Coder íŒ€ì—ê²Œ ëª…í™•í•œ ì§€ì¹¨ì„ ì „ë‹¬í•˜ëŠ” ê²ƒì´ ëª©í‘œì…ë‹ˆë‹¤.""",
    llm_config=llm_config,
    max_consecutive_auto_reply=2
)

# 2. Coder (ê°œë°œì)
coder = AssistantAgent(
    name="Coder",
    system_message="""ë‹¹ì‹ ì€ ì‹œë‹ˆì–´ í’€ìŠ¤íƒ ê°œë°œìì…ë‹ˆë‹¤.

ì—­í• :
- Architectì˜ ì„¤ê³„ë¥¼ ë°›ì•„ì„œ ì½”ë“œë¡œ êµ¬í˜„
- ì™„ì„±ë„ ë†’ì€ í”„ë¡œë•ì…˜ê¸‰ ì½”ë“œ ì‘ì„±
- ì—¬ëŸ¬ íŒŒì¼/ëª¨ë“ˆ êµ¬ì¡° ì„¤ê³„
- ì˜ì¡´ì„± ê´€ë¦¬ ë° ì„¤ì • íŒŒì¼ ì‘ì„±
- Reviewerì˜ í”¼ë“œë°± ì ê·¹ ìˆ˜ìš©

í•­ìƒ ë‹¤ìŒì„ í¬í•¨í•˜ì„¸ìš”:
- íƒ€ì… íŒíŠ¸
- ì—ëŸ¬ í•¸ë“¤ë§
- ê¸°ë³¸ í…ŒìŠ¤íŠ¸ êµ¬ì¡°
- ì£¼ì„/docstring""",
    llm_config=llm_config,
    max_consecutive_auto_reply=2
)

# 3. Reviewer (ê²€ìˆ˜ì/í…ŒìŠ¤í„°)
reviewer = AssistantAgent(
    name="Reviewer",
    system_message="""ë‹¹ì‹ ì€ ì½”ë“œ ë¦¬ë·° ì „ë¬¸ê°€ì´ì QA ì—”ì§€ë‹ˆì–´ì…ë‹ˆë‹¤.

ì—­í• :
- Coderì˜ ì½”ë“œë¥¼ ì •ë°€í•˜ê²Œ ê²€í† 
- ë²„ê·¸, ë³´ì•ˆ, ì„±ëŠ¥ ì´ìŠˆ ì§€ì 
- í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì‘ì„±
- ì½”ë“œ ìŠ¤íƒ€ì¼/ê°€ë…ì„± í”¼ë“œë°±
- ìµœì¢… ë°°í¬ ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸ í™•ì¸

ë§ˆì§€ë§‰ì— \"âœ… ìŠ¹ì¸\" ë˜ëŠ” \"âŒ ìˆ˜ì • í•„ìš”\"ë¥¼ ëª…í™•íˆ í‘œì‹œí•˜ì„¸ìš”.
Coderì—ê²Œ êµ¬ì²´ì ì¸ ê°œì„ ì•ˆì„ ì œì‹œí•˜ì„¸ìš”.""",
    llm_config=llm_config,
    max_consecutive_auto_reply=2
)

# 4. Human (ë‹¹ì‹  - ìµœì¢… ìŠ¹ì¸ì)
human = UserProxyAgent(
    name="Human",
    human_input_mode="TERMINATE",  # ì—ëŸ¬ ì‹œë§Œ ë¬¼ì–´ë³´ê¸°
    code_execution_config={
        "work_dir": "./dev_repo",
        "use_docker": False,
        "timeout": 60
    },
    system_message="ë‹¹ì‹ ì€ í”„ë¡œì íŠ¸ ë¦¬ë“œì…ë‹ˆë‹¤. ìµœì¢… ìŠ¹ì¸ë§Œ í•˜ì„¸ìš”."
)

# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# ê·¸ë£¹ ì±„íŒ… ì„¤ì •
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

groupchat = autogen.GroupChat(
    agents=[architect, coder, reviewer, human],
    messages=[],
    max_round=15,  # ìµœëŒ€ 15ë¼ìš´ë“œ ëŒ€í™”
    send_introductions=True
)

manager = autogen.GroupChatManager(
    groupchat=groupchat,
    llm_config=llm_config,
    max_consecutive_auto_reply=1
)

# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# ì‹¤í–‰ í•¨ìˆ˜
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

def run_autogen_pipeline(user_requirement: str):
    """
    ì‚¬ìš©ì ìš”êµ¬ì‚¬í•­ â†’ AutoGen íŒŒì´í”„ë¼ì¸ ì‹œì‘
    
    ì˜ˆ:
    - GitHub ì´ìŠˆ ì„¤ëª…
    - ìƒˆë¡œìš´ ê¸°ëŠ¥ ìš”ì²­
    - ë²„ê·¸ ë¦¬í¬íŠ¸
    """
    
    logger.info(\"=\"*60)
    logger.info(\"AutoGen ê°œë°œ íŒ€ ì‹œì‘!\")
    logger.info(f\"ìš”êµ¬ì‚¬í•­: {user_requirement[:100]}...\")
    logger.info(\"=\"*60)
    
    # Humanì´ ìš”êµ¬ì‚¬í•­ì„ íŒ€ì— ì „ë‹¬
    human.initiate_chat(
        manager,
        message=user_requirement
    )

# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
# í…ŒìŠ¤íŠ¸ ì‹¤í–‰
# â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

if __name__ == "__main__":
    # ì˜ˆì œ ìš”êµ¬ì‚¬í•­
    requirement = """
ğŸ“‹ GitHub Issue: ê°„ë‹¨í•œ TODO API êµ¬í˜„

ìš”êµ¬ì‚¬í•­:
1. FastAPI ê¸°ë°˜ REST API
2. ê¸°ëŠ¥:
   - POST /todos: TODO ìƒì„±
   - GET /todos: ëª¨ë“  TODO ì¡°íšŒ
   - GET /todos/{id}: íŠ¹ì • TODO ì¡°íšŒ
   - PUT /todos/{id}: TODO ìˆ˜ì •
   - DELETE /todos/{id}: TODO ì‚­ì œ
3. ë°ì´í„°ë² ì´ìŠ¤: SQLite (ê°„ë‹¨í•¨)
4. ì¸ì¦: ì—†ìŒ (ê°„ë‹¨í•¨)
5. ë°°í¬: ë¡œì»¬ì—ì„œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•´ì•¼ í•¨

â†’ ì„¤ê³„ë¶€í„° êµ¬í˜„, í…ŒìŠ¤íŠ¸ê¹Œì§€ ì™„ì „ ìë™í™”í•´ì¤„ë˜?
    """
    
    run_autogen_pipeline(requirement)
```

í…ŒìŠ¤íŠ¸ ì‹¤í–‰:

```bash
# AutoGen íŒ€ ì‹¤í–‰
python autogen_team.py

# ì˜ˆìƒ ê³¼ì •:
# 1. Architect: \"ì„¤ê³„ ë¶„ì„ ì¤‘...\"
# 2. Coder: \"ì½”ë“œ ì‘ì„± ì¤‘...\"
# 3. Reviewer: \"ì½”ë“œ ê²€ìˆ˜ ì¤‘...\"
# 4. Human: ìµœì¢… ìŠ¹ì¸
```