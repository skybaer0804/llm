# 01. Qwen3 단일 모델 구성 전략 (3-Persona System)

Mac M4 Pro 64GB 환경에서 `qwen3-coder-next:q4_K_M` 단일 모델을 사용하여 **설계-검수-기록**의 3단계 페르소나 전환 체계로 운영합니다.

## 1. 3대 페르소나 구성 (Core Personas)

| 페르소나 | 전환 시점 | 핵심 임무 |
| :--- | :--- | :--- |
| **🧠 설계자 (Architect)** | 프로젝트 시작 | 요구사항 분석, 파일 구조 설계, **TDD 테스트 시나리오 확정**, Task-XX.md 생성 |
| **👀 검수자 (Reviewer)** | 맥북 작업 완료 후 | Claude Code Push 코드 검증, **설계서 기준 테스트 일치 여부 확인**, 정확한 디버깅 가이드 제공 |
| **📝 기록자 (Documenter)** | 모든 Task 종료 후 | README.md, API 문서 업데이트, 히스토리 요약 |

## 2. 운영 메커니즘

1.  **Stateless Switching**: 페르소나 전환 시 이전 대화 기록을 초기화(Clear)하고, 오직 현재 단계에 필요한 데이터(설계서, 코드, 로그 등)만 프롬프트에 포함하여 전달합니다.
2.  **TDD-Driven Implementation**: 구현(Implementation)은 맥북의 Claude Code가 전담하며, **반드시 테스트 코드를 먼저 작성**한 뒤 기능 코드를 작성하도록 지시합니다.
3.  **Strict Verification**: 검수자는 자신의 임의 코드를 실행하기 전, **설계서에 명시된 테스트 케이스**가 코드에 구현되어 있는지 먼저 대조합니다. 검수자의 잘못된 판단으로 인한 재지시(Re-instruction)를 방지하기 위해, 검수 실패 시 반드시 설계서의 요구사항과 실제 코드의 괴리 지점을 명확히 짚어주어야 합니다.
4.  **Memory Management**: 52GB 모델이 상주하므로 백그라운드 앱을 최소화하여 시스템 가용 메모리를 확보합니다.

## 3. Git 기반 협업 루프

*   **설계자**: `tasks/pending/`에 작업 지시서 생성.
*   **맥북**: 지시서 수령 후 작업, 결과 Push.
*   **검수자**: Push된 코드 검증, 실패 시 `issue_log.md` 작성.
*   **기록자**: 최종 승인 후 문서화 완료.
